# LLM提示词配置文件
# 用于配置图表类型识别、模板选择和数据提取的提示词

# 类型识别提示词配置
type_classification:
  system_prompt: |
    你是一位专业的信息图分类专家，擅长识别文本内容的结构类型。
  
  user_prompt_template: |
    请分析以下用户输入的文本内容，判断其最适合使用哪种信息图类型。
    
    用户输入文本：
    """
    {user_text}
    """
    
    ## 信息图7大分类体系：
    
    ### 1. 图表型 (chart)
    - **特征**：包含数值数据、统计信息、量化指标
    - **关键词**：数据、增长率、比例、百分比、趋势、统计、图表、指标
    - **适用场景**：销售数据、用户增长、KPI指标、财务报表、市场分析
    - **示例**："2023年Q1销售额1000万，Q2增长20%"
    
    ### 2. 对比型 (comparison)
    - **特征**：两个或多个事物的对比、优劣分析、差异展示
    - **关键词**：VS、对比、优劣势、差异、区别、选择、竞争、比较
    - **适用场景**：产品对比、竞品分析、方案比较、优缺点对比
    - **示例**："产品A与产品B的功能对比"
    
    ### 3. 层级型 (hierarchy)
    - **特征**：具有上下级、父子关系、分级结构
    - **关键词**：组织架构、层级、分类、体系、级别、树形、上下级
    - **适用场景**：公司架构、产品分类、知识体系、职级体系
    - **示例**："公司组织架构：CEO-部门经理-员工"
    
    ### 4. 列表型 (list)
    - **特征**：并列的项目、要点、特性、步骤
    - **关键词**：要点、步骤、特性、功能、特点、清单、列举
    - **适用场景**：产品功能、解决方案、服务项目、特性列表
    - **示例**："产品的五大功能：1.智能推荐 2.数据分析..."
    
    ### 5. 四象限型 (quadrant)
    - **特征**：两个维度划分，四个区域
    - **关键词**：矩阵、象限、维度、重要紧急、优先级、分类
    - **适用场景**：时间管理矩阵、优先级分类、SWOT分析、风险矩阵
    - **示例**："任务分为重要紧急、重要不紧急、不重要紧急、不重要不紧急"
    
    ### 6. 关系型 (relationship)
    - **特征**：元素之间的关联、因果、依赖、影响
    - **关键词**：关系、因果、影响、联系、相关、交互、依赖
    - **适用场景**：因果分析、业务流程、系统架构、关系网络
    - **示例**："用户增长影响因素：产品质量、营销投入、口碑传播"
    
    ### 7. 顺序型 (sequence)
    - **特征**：有先后顺序、时间线、流程
    - **关键词**：步骤、流程、过程、顺序、阶段、时间线、发展、历史
    - **适用场景**：操作流程、项目进度、历史进程、用户旅程
    - **示例**："产品开发流程：需求分析-设计-开发-测试-上线"
    
    ## 分析指南：
    
    1. **识别内容类型**：
       - 检查文本中是否包含数值数据 → 图表型
       - 检查是否有对比性描述 → 对比型
       - 检查是否有层级结构 → 层级型
       - 检查是否是并列项目 → 列表型
       - 检查是否有两个维度 → 四象限型
       - 检查是否描述关系 → 关系型
       - 检查是否有时间/顺序 → 顺序型
    
    2. **评估置信度**：
       - 0.9-1.0：非常匹配，内容特征与类型高度一致
       - 0.7-0.9：较好匹配，大部分特征符合
       - 0.5-0.7：可以使用，部分特征符合
       - <0.5：不推荐
    
    请**必须以纯JSON格式返回**，不要包含任何markdown代码块标记（如```json），不要包含任何其他文字说明，直接返回JSON对象：
    
    {{
      "type": "类型代码(chart/comparison/hierarchy/list/quadrant/relationship/sequence)",
      "confidence": 置信度(0-1之间的数值),
      "reason": "判定理由，说明为什么选择这个类型"
    }}
  
  temperature: 0.3
  model: null  # null表示使用默认模型

# 模板选择提示词配置
template_selection:
  system_prompt: |
    你是一位专业的信息图设计专家，擅长根据文本内容推荐最合适的可视化模板。
  
  user_prompt_template: |
    请分析以下用户输入的文本内容，从提供的模板列表中选择最适合的一个。
    
    用户文本内容：
    """
    {user_text}
    """
    
    已识别的内容类型：{content_type}
    
    可选模板列表：
    {templates_list}
    
    ## 选择策略：
    
    1. **数据匹配度**：优先考虑模板的数据结构是否匹配文本中的信息
    2. **视觉复杂度**：
       - 简单文本内容 → 选择simple、plain-text等简单模板
       - 丰富详细内容 → 选择card、badge等复杂模板
    3. **数据项数量**：
       - 2-3项 → 适合row（横向）或column（纵向）布局
       - 4-6项 → 适合grid（网格）或steps（步骤）布局
       - 7项以上 → 适合list（列表）或timeline（时间轴）布局
    4. **特殊特征**：
       - 有图标描述 → 选择带icon的模板
       - 有数值百分比 → 选择progress、circular-progress模板
       - 有时间信息 → 选择timeline模板
    
    请从上述模板中选择最适合的一个，**必须以纯JSON格式返回**，不要包含任何markdown代码块标记（如```json），不要包含任何其他文字说明，直接返回JSON对象：
    
    {{
      "templateId": "模板ID",
      "templateName": "模板名称",
      "confidence": 置信度(0-1之间的数值),
      "reason": "选择理由，说明为什么这个模板最适合用户的文本内容"
    }}
  
  temperature: 0.3
  model: null

# 数据提取提示词配置
data_extraction:
  system_prompt: |
    你是一位专业的数据分析师，擅长从文本中提取关键信息并转换为结构化数据。
  
  user_prompt_template: |
    请从以下用户输入的文本中提取关键信息，并按照指定的数据结构进行组织。
    
    用户输入文本：
    """
    {user_text}
    """
    
    目标模板ID：{template_id}
    
    要求的数据结构（JSON Schema）：
    ```json
    {schema}
    ```
    
    请按照以下步骤完成数据提取：
    
    1. 仔细阅读用户文本，识别关键信息点
    2. 根据数据结构要求，提取相应的字段内容
    3. 如果文本中没有明确提到某些字段，可以根据上下文推断或使用合理的默认值
    4. 对于items数组，提取所有关键数据项
    5. 如果文本包含图标、颜色等视觉元素的描述，尽量在配置中体现
    
    关键字段说明：
    - title: 信息图的标题（如果文本没有明确标题，可以根据内容生成一个简洁的标题）
    - desc: 信息图的描述或副标题
    - items: 数据项列表，每个item包含label（标签）、desc（描述）等字段
      * label: 简短的标题或名称
      * desc: 详细的描述内容
      * icon: 图标标识（如果适用），格式如"icon:mdi/check"
      * value: 数值（如果有百分比、分数等）
    
    请严格按照JSON格式返回提取的数据，**不要包含任何markdown代码块标记（如```json）**，不要包含任何其他文字说明，直接返回JSON对象：
    
    {{
      "template": "{template_id}",
      "data": {{
        "title": "提取的标题",
        "desc": "提取的描述",
        "items": [
          {{
            "label": "项目标签",
            "desc": "项目描述"
          }}
        ]
      }},
      "themeConfig": {{
        "palette": "antv"
      }}
    }}
    
    注意：确保返回有效的JSON格式，数组中的每个对象都包含必需的字段。
  
  temperature: 0.2
  model: null
